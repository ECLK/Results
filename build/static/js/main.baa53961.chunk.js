(this.webpackJsonpresults=this.webpackJsonpresults||[]).push([[0],{14:function(a,e,t){a.exports=t.p+"static/media/Emplem of SriLanka.25453117.png"},15:function(a,e,t){a.exports=t(25)},20:function(a,e,t){},21:function(a,e,t){},25:function(a,e,t){"use strict";t.r(e);var r=t(0),n=t.n(r),o=t(12),c=t.n(o),l=(t(20),t(2)),i=t(3),s=t(5),u=t(4),p=t(6),y=(t(21),t(10)),m=t(1),d=t.n(m),h=t(7),_=[1989,1994,2e3,2001,2004,2010,2015,2020],f={RP_V:"RP_V",RE_VI:"RE_VI",RE_V:"RE_V",RE_S:"RE_S",RN_V:"RN_V",RN_SI:"RN_SI",RN_VS:"RN_VS",RN_VSN:"RN_VSN",RE_SC:"RE_SC",RN_NC:"RN_NC",RN_SCNC:"RN_SCNC"},b=t(13),v=t.n(b),E={"01":["01A","01B","01C","01D","01E","01F","01G","01H","01I","01J","01K","01L","01M","01N","01O"],"02":["02A","02B","02C","02D","02E","02F","02G","02H","02I","02J","02K","02L","02M"],"03":["03A","03B","03C","03D","03E","03F","03G","03H"],"04":["04A","04B","04C","04D","04E","04F","04G","04H","04I","04J","04K","04L","04M"],"05":["05A","05B","05C","05D"],"06":["06A","06B","06C","06D"],"07":["07A","07B","07C","07D","07E","07F","07G","07H","07I","07J"],"08":["08A","08B","08C","08D","08E","08F","08G"],"09":["09A","09B","09C","09D"],10:["10A","10B","10C","10D","10E","10F","10G","10H","10I","10J","10K"],11:["11A","11B","11C"],12:["12A","12B","12C"],13:["13A","13B","13C","13D"],14:["14A","14B","14C"],15:["15A","15B","15C","15D","15E","15F","15G","15H","15I","15J","15K","15L","15M","15N"],16:["16A","16B","16C","16D","16E"],17:["17A","17B","17C","17D","17E","17F","17G"],18:["18A","18B","18C"],19:["19A","19B","19C","19D","19E","19F","19G","19H","19I"],20:["20A","20B","20C"],21:["21A","21B","21C","21D","21E","21F","21G","21H"],22:["22A","22B","22C","22D","22E","22F","22G","22H","22I"]};function P(a,e){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(d.a.mark((function a(e,t){var r,n,o,c,l,i;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=Date.now(),!(n=localStorage.getItem(e))){a.next=4;break}return a.abrupt("return",JSON.parse(n));case 4:return a.next=6,t();case 6:if(o=a.sent){c=JSON.stringify(o);try{localStorage.setItem(e,c)}catch(s){localStorage.clear(),localStorage.setItem(e,c)}l=Date.now()-r,i=c.length/1e3,console.debug("cacheGet*: ".concat(e," ").concat(i,"KB  in ").concat(l,"s"))}return a.abrupt("return",o);case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function S(a){return k.apply(this,arguments)}function k(){return(k=Object(h.a)(d.a.mark((function a(e){var t,r,n,o=arguments;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=function(){return(r=Object(h.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e);case 2:return t=a.sent,a.next=5,t.json();case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)},t=function(){return r.apply(this,arguments)},!(o.length>1&&void 0!==o[1]&&o[1])){a.next=10;break}return n=e,a.next=7,P(n,t);case 7:return a.abrupt("return",a.sent);case 10:return a.abrupt("return",t());case 11:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function w(a){return C.apply(this,arguments)}function C(){return(C=Object(h.a)(d.a.mark((function a(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="data/elections/gen_elec_sl.ec.results.".concat(e,".json"),a.next=3,S(t,!0);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function O(a){return j.apply(this,arguments)}function j(){return(j=Object(h.a)(d.a.mark((function a(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w(e);case 2:return t=a.sent,a.abrupt("return",B(t.slice(0,1e3),(function(a){return a.type}),(function(a){return a})));case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function L(a){return A.apply(this,arguments)}function A(){return(A=Object(h.a)(d.a.mark((function a(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=E[e],a.abrupt("return",Promise.all(t.map(function(){var a=Object(h.a)(d.a.mark((function a(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="data/maps/EC-".concat(e,".json"),a.t0=e,a.next=4,S(t,!1);case 4:return a.t1=a.sent,a.abrupt("return",{childRegionCode:a.t0,polygonList:a.t1});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())));case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function D(){return N.apply(this,arguments)}function N(){return(N=Object(h.a)(d.a.mark((function a(){var e;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=Object.keys(E),a.abrupt("return",Promise.all(e.map(function(){var a=Object(h.a)(d.a.mark((function a(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="data/maps/EC-".concat(e,".json"),a.t0=e,a.next=4,S(t,!0);case 4:return a.t1=a.sent,a.abrupt("return",{childRegionCode:a.t0,polygonList:a.t1});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())));case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function M(a){return a?parseFloat(a.substring(0,a.length-1))/100:1}function B(a,e,t){var r=a.reduce((function(a,t){var r=e(t);return a[r]||(a[r]=[]),a[r].push(t),a}),{});return Object.keys(r).reduce((function(a,e){return a[e]=t(r[e]),a}),{})}function R(a,e){return a.sort((function(a,t){return a[e].localeCompare(t[e])}))}function F(a){return V.apply(this,arguments)}function V(){return(V=Object(h.a)(d.a.mark((function a(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w(e);case 2:t=a.sent,v()(JSON.stringify(t),"gen_elec_sl.ec.results.".concat(e,".json"));case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function T(a,e){return Number(a/e).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2})}var x={"01":"Colombo","01A":"Colombo North","01B":"Colombo Central","01C":"Borella","01D":"Colombo East","01E":"Colombo West","01F":"Dehiwala","01G":"Ratmalana","01H":"Kolonnawa","01I":"Kotte","01J":"Kaduwela","01K":"Avissawella","01L":"Homagama","01M":"Maharagama","01N":"Kesbewa","01O":"Moratuwa","01P":"Postal Votes Colombo","02":"Gampaha","02A":"Wattala","02B":"Negombo","02C":"Katana","02D":"Divulapitiya","02E":"Mirigama","02F":"Minuwangoda","02G":"Attanagalla","02H":"Gampaha","02I":"Ja Ela","02J":"Mahara","02K":"Dompe","02L":"Biyagama","02M":"Kelaniya","02P":"Postal Votes Gampaha","03":"Kalutara","03A":"Panadura","03B":"Bandaragama","03C":"Horana","03D":"Bulathsinhala","03E":"Mathugama","03F":"Kalutara","03G":"Beruwala","03H":"Agalawatta","03P":"Postal Votes Kalutara","04":"Kandy","04A":"Galagedara","04B":"Harispattuwa","04C":"Pathadumbara","04D":"Ududumbara","04E":"Teldeniya","04F":"Kundasale","04G":"Hewaheta","04H":"Senkadagala","04I":"Mahanuwara","04J":"Yatinuwara","04K":"Udunuwara","04L":"Gampola","04M":"Nawalapitiya","04P":"Postal Votes Kandy","05":"Matale","05A":"Dambulla","05B":"Laggala","05C":"Matale","05D":"Rattota","05P":"Postal Votes Matale","06":"Nuwara-Eliya","06A":"Nuwara Eliya Maskeliya","06B":"Kothmale","06C":"Hanguranketha","06D":"Walapane","06P":"Postal Votes Nuwara-Eliya","07":"Galle","07A":"Balapitiya","07B":"Ambalangoda","07C":"Karandeniya","07D":"Bentara Elpitiya","07E":"Hiniduma","07F":"Baddegama","07G":"Ratgama","07H":"Galle","07I":"Akmeemana","07J":"Habaraduwa","07P":"Postal Votes Galle","08":"Matara","08A":"Deniyaya","08B":"Hakmana","08C":"Akuressa","08D":"Kamburupitiya","08E":"Devinuwara","08F":"Matara","08G":"Weligama","08P":"Postal Votes Matara","09":"Hambantota","09A":"Mulkirigala","09B":"Beliatta","09C":"Tangalle","09D":"Thissamaharama","09P":"Postal Votes Hambantota",10:"Jaffna","10A":"Kayts","10B":"Vaddukoddai","10C":"Kankesanthurai","10D":"Manipay","10E":"Kopay","10F":"Udupiddy","10G":"Point Pedro","10H":"Chavakachcheri","10I":"Nallur","10J":"Jaffna","10K":"Kilinochchi","10P":"Postal Votes Jaffna",11:"Vanni","11A":"Mannar","11B":"Vavuniya","11C":"Mullaitivu","11P":"Postal Votes Vanni","11_D":"Displaced Votes Vanni",12:"Batticaloa","12A":"Kalkudah","12B":"Batticaloa","12C":"Paddiruppu","12P":"Postal Votes Batticaloa",13:"Digamadulla","13A":"Ampara","13B":"Samanthurai","13C":"Kalmunai","13D":"Pothuvil","13P":"Postal Votes Digamadulla",14:"Trincomalee","14A":"Seruvila","14B":"Trincomalee","14C":"Muttur","14P":"Postal Votes Trincomalee",15:"Kurunegala","15A":"Galgamuwa","15B":"Nikaweratiya","15C":"Yapahuwa","15D":"Hiriyala","15E":"Wariyapola","15F":"Panduwasnuwara","15G":"Bingiriya","15H":"Katugampola","15I":"Kuliyapitiya","15J":"Dambadeniya","15K":"Polgahawela","15L":"Kurunegala","15M":"Mawathagama","15N":"Dodangaslanda","15P":"Postal Votes Kurunegala",16:"Puttalam","16A":"Puttalam","16B":"Anamaduwa","16C":"Chilaw","16D":"Nattandiya","16E":"Wennappuwa","16P":"Postal Votes Puttalam",17:"Anuradhapura","17A":"Medawachchiya","17B":"Horowpothana","17C":"Anuradhapura East","17D":"Anuradhapura West","17E":"Kalawewa","17F":"Mihinthale","17G":"Kekirawa","17P":"Postal Votes Anuradhapura",18:"Polonnaruwa","18A":"Minneriya","18B":"Medirigiriya","18C":"Polonnaruwa","18P":"Postal Votes Polonnaruwa",19:"Badulla","19A":"Mahiyanganaya","19B":"Viyaluwa","19C":"Passara","19D":"Badulla","19E":"Hali Ela","19F":"Uva Paranagama","19G":"Welimada","19H":"Bandarawela","19I":"Haputale","19P":"Postal Votes Badulla",20:"Moneragala","20A":"Bibile","20B":"Monaragala","20C":"Wellawaya","20P":"Postal Votes Moneragala",21:"Ratnapura","21A":"Eheliyagoda","21B":"Ratnapura","21C":"Pelmadulla","21D":"Balangoda","21E":"Rakwana","21F":"Nivithigala","21G":"Kalawana","21H":"Kolonna","21P":"Postal Votes Ratnapura",22:"Kegalle","22A":"Dedigama","22B":"Galigamuwa","22C":"Kegalle","22D":"Rambukkana","22E":"Mawanella","22F":"Aranayaka","22G":"Yatiyanthota","22H":"Ruwanwella","22I":"Deraniyagala","22P":"Postal Votes Kegalle",PV:"Postal Votes",DV:"Displaced Votes",QV:"Quarantined Votes"},K={SLPP:35,SJB:35,ITAK:35},I={UNP:120,SJB:120,SLFP:240,PA:240,UPFA:240,SLPP:0,TNA:60,TULF:60,ITAK:60,ACTC:60,SU:45,JHU:45,JVP:0,DNA:0,NSSP:0,MEP:0,LSSP:0,SLPF:0,JJB:0,EPDP:15,TELO:15,EPRLF:15,SLMC:150,NUA:150,ACMC:150,CWC:15,SLMP:300,USA:300,TMTK:15,TMVP:15,AITC:15,AITM:15,SDPT:15,NC:150,MNA:150,UPA:150},J={ACMC:{party_name:"All Ceylon Makkal Congress",party_code:"ACMC",party_symbol:"Peacock",party_color:""},AITC:{party_name:"Ahila Ilankai Thamil Congress",party_code:"AITC",party_symbol:"Bicycle",party_color:""},AITM:{party_name:"Akhila Ilankai Tamil Mahasabha",party_code:"AITM",party_symbol:"Ship",party_color:""},DLF:{party_name:"Democratic Left Front",party_code:"DLF",party_symbol:"Clock",party_color:""},DUA:{party_name:"Democratic Unity Alliance",party_code:"DUA",party_symbol:"Two Leaves",party_color:""},DUNF:{party_name:"Democratic United National Front",party_code:"DUNF",party_symbol:"Eagle",party_color:""},EDF:{party_name:"Eelavar Democratic Front",party_code:"EDF",party_symbol:"Plough",party_color:""},EPDP:{party_name:"Eelam People\u2019s Democratic Party",party_code:"EPDP",party_symbol:"Veena",party_color:""},FSP:{party_name:"Frontline Socialist Party",party_code:"FSP",party_symbol:"Sledge Hammer",party_color:""},ITAK:{party_name:"Ilankai Tamil Arasu Kadchi",party_code:"ITAK",party_symbol:"House",party_color:""},JJB:{party_name:"Jathika Jana Balawegaya",party_code:"JJB",party_symbol:"Compass",party_color:""},JSP:{party_name:"Jana Setha Peramuna",party_code:"JSP",party_symbol:"Tractor",party_color:""},LP:{party_name:"The Liberal Party",party_code:"LP",party_symbol:"Book",party_color:""},LSSP:{party_name:"Lanka Sama Samaja Party",party_code:"LSSP",party_symbol:"Key",party_color:""},MJP:{party_name:"Maubima Janatha Pakshaya",party_code:"MJP",party_symbol:"Aeroplane",party_color:""},MNA:{party_name:"Muslim National Alliance",party_code:"MNA",party_symbol:"Pair of Scales",party_color:""},NC:{party_name:"National Congress",party_code:"NC",party_symbol:"Horse",party_color:""},NDF:{party_name:"National Democratic Front",party_code:"NDF",party_symbol:"Motor Car",party_color:""},NPP:{party_name:"National Peoples Party",party_code:"NPP",party_symbol:"Electric Bulb",party_color:""},NSU:{party_name:"Nawa Sihala Urumaya",party_code:"NSU",party_symbol:"Bow and Arrow",party_color:""},OPPP:{party_name:"Our Power of People Party",party_code:"OPPP",party_symbol:"Flag",party_color:""},OWORS:{party_name:"Okkoma Wasiyo Okkoma Rajawaru Sanvidanaya",party_code:"OWORS",party_symbol:"Till",party_color:""},SDPT:{party_name:"Social Democratic Party of Tamils",party_code:"SDPT",party_symbol:"Candle",party_color:""},SEP:{party_name:"Socialist Equality Party",party_code:"SEP",party_symbol:"Pair of Scissors",party_color:""},SJB:{party_name:"Samagi Jana Balawegaya",party_code:"SJB",party_symbol:"Telephone",party_color:""},SJP:{party_name:"Sinhaladeepa Jathika Peramuna",party_code:"SJP",party_symbol:"Sword",party_color:""},SLFP:{party_name:"Sri Lanka Freedom Party",party_code:"SLFP",party_symbol:"Hand",party_color:""},SLLP:{party_name:"Sri Lanka Labour Party",party_code:"SLLP",party_symbol:"Kangaroo",party_color:""},SLMC:{party_name:"Sri Lanka Muslim Congress",party_code:"SLMC",party_symbol:"Tree",party_color:""},SLP:{party_name:"Sri Lanka Labour Party",party_code:"SLP",party_symbol:"Kangaroo",party_color:""},SLPP:{party_name:"Sri Lanka Podujana Peramuna",party_code:"SLPP",party_symbol:"Flower Bud",party_color:""},SPSL:{party_name:"Socialist Party of Sri Lanka",party_code:"SPSL",party_symbol:"Balloon",party_color:""},TLP:{party_name:"The Liberal Party",party_code:"TLP",party_symbol:"Book",party_color:""},TMTK:{party_name:"Thamil Makkal Thesiya Kuttani",party_code:"TMTK",party_symbol:"Fish",party_color:""},TMVP:{party_name:"Thamil Makkal Viduthalai Pulikal",party_code:"TMVP",party_symbol:"Boat",party_color:""},TULF:{party_name:"Tamil United Liberation Front",party_code:"TULF",party_symbol:"Sun",party_color:""},ULF:{party_name:"United Left Front",party_code:"ULF",party_symbol:"Canoe",party_color:""},UNP:{party_name:"United National Party",party_code:"UNP",party_symbol:"Elephant",party_color:"Green"},UPA:{party_name:"United Peace Alliance",party_code:"UPA",party_symbol:"Butterfly",party_color:""},USP:{party_name:"United Socialist Party",party_code:"USP",party_symbol:"Tri-shaw",party_color:""},UPFA:{party_name:"United Peoples's Freedom Alliance",party_code:"UPFA",party_symbol:"Betel Leaf",party_color:"Blue"},JVP:{party_name:"Janatha Vimukti Peramuna",party_code:"JVP",party_symbol:"Bell",party_color:"Red"},NSSP:{party_name:"Nawa Sama Samaja Party",party_code:"NSSP",party_symbol:"Bell",party_color:"Red"}};var H="white";function G(a){return a.by_party.sort((function(a,e){return e.vote_count-a.vote_count})).sort((function(a,e){return e.seat_count-a.seat_count})).map((function(a){return a.party_code}))}function U(a){return a.by_party[0].party_code}function W(a){return J[a]?J[a].party_name:""}function Y(a,e,t){var r=M(t);if(!e)return H;var n=0,o=0;void 0!==I[a]&&(n=I[a],o=100);var c=50;return void 0!==K[a]&&(c=K[a]),function(a,e,t,r){return"hsla(".concat(a,",").concat(e,"%,").concat(t,"%,").concat(r,")")}(n,o,c,r<.5?.2:r>.67?.6:.4)}function z(){return n.a.createElement("span",{className:"span-empty-cell"},"-")}function q(a){var e="party_logos/logo_".concat(a,".png");return a=a.split("_")[0].replace("IND","IG"),n.a.createElement("div",{className:"div-party",title:W(a)},n.a.createElement("div",null,a),n.a.createElement("img",{className:"img-party-logo",src:e,alt:""}))}function Q(a,e){if(!e)return a.toLocaleString();var t="div-percent",r=parseFloat(e.substring(0,e.length-1))/100;return r<.01?t+=" div-percent-zero":r<.05&&(t+=" div-percent-seat-limit"),n.a.createElement("div",{className:t+" td-number"},n.a.createElement("div",{className:"div-percent-numerator"},a.toLocaleString()),n.a.createElement("div",{className:"div-percent-percent"},e))}function Z(){return n.a.createElement("p",null,"...")}function $(a){var e=a;e=(e=e.replace("DV","_D")).replace("PV","P");var t=x[e],r=a.length>2?"Polling Division":"Electoral District",o="#".concat(a,"-details"),c="";return"Polling Division"===r&&(o="https://en.wikipedia.org/wiki/"+t+"_"+r.replace(" ","_"),c="_blank"),n.a.createElement("a",{href:o,rel:"noopener noreferrer",target:c},n.a.createElement("div",{className:"div-subtext"},r+" "+a),n.a.createElement("div",null,t))}function X(a){return a[0].ed_code}var aa=t(8);function ea(a){var e=a.reduce((function(a,e){var t=Object(aa.a)(a,4),r=t[0],n=t[1],o=t[2],c=t[3];return e.polygonList.reduce((function(a,e){var t=Object(aa.a)(a,4),r=t[0],n=t[1],o=t[2],c=t[3];return e.reduce((function(a,e){var t=Object(aa.a)(a,4),r=t[0],n=t[1],o=t[2],c=t[3],l=Object(aa.a)(e,2),i=l[0],s=l[1];return[r=Math.min(r,i),n=Math.max(n,i),o=Math.min(o,s),c=Math.max(c,s)]}),[r,n,o,c])}),[r,n,o,c])}),[90,-90,180,-180]),t=Object(aa.a)(e,4);return[t[0],t[1],t[2],t[3]]}var ta=function(a){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,a),Object(i.a)(e,[{key:"render",value:function(){var a=this.props.regionList,e=this.props.resultList,t=this.props.childRegionCodeType,r=function(a,e,t){var r=ea(a),n=Object(aa.a)(r,4),o=n[0],c=n[1],l=n[2],i=n[3],s=c-o,u=i-l,p=s/u/(t/e),y=e,m=t;return p>1?y/=p:m*=p,[function(a){var e=Object(aa.a)(a,2),t=e[0],r=e[1];return[y*((r-l)/u),m*(1-(t-o)/s)]},y,m]}(a,400,400),o=Object(aa.a)(r,3),c=o[0],l=o[1],i=o[2],s=e.reduce((function(a,e){var r=e[t],n=Y(U(e),!0,e.by_party[0].vote_percentage);return a[r]=n,a}),{}),u=a.map((function(a,e){var t=a.childRegionCode,r=s[t];r||(r="white");var o=a.polygonList,l=o.map((function(a,t){return function(a,e,t,r,o){var c=r.map((function(a,e){var r=Object(aa.a)(a,2),n=r[0],o=r[1],c=0===e?"M":"L",l=t([n,o]),i=Object(aa.a)(l,2),s=i[0],u=i[1];return"".concat(c).concat(s," ").concat(u)})).concat(["Z"]).join(" ");return n.a.createElement("path",{key:"polygon-".concat(a,"-").concat(e),d:c,fill:o,stroke:"gray",strokeWidth:1})}(e,t,c,a,r)})),i=ea([{polygonList:o}]),u=Object(aa.a)(i,4),p=u[0],y=u[1],m=u[2],d=u[3],h=c([(p+y)/2,(m+d)/2]),_=Object(aa.a)(h,2),f=_[0],b=_[1],v=c([p,m]),E=Object(aa.a)(v,2),P=E[0],g=(E[1],c([y,d])),S=Object(aa.a)(g,2),k=S[0],w=(S[1],x[t]),C=k-P,O=w.length,j=Math.min(12,.8*C/O),L="#"+t;return n.a.createElement("svg",{key:"polygonList-".concat(e),className:"svg-polygon-list"},n.a.createElement("title",null,"".concat(w," (").concat(t,")")),n.a.createElement("a",{href:L},l),n.a.createElement("text",{x:f,y:b-j/2,fill:"black",textAnchor:"middle",fontSize:1.5*j},t),n.a.createElement("text",{x:f,y:b+j/2,fill:"black",textAnchor:"middle",fontSize:j},w))}));return n.a.createElement("svg",{key:"Map-"+this.props.parentRegionCode,xmlns:"http://www.w3.org/2000/svg",width:l,height:i},u)}}]),e}(r.Component);function ra(a){return a*Math.PI/180}var na=function(a){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,a),Object(i.a)(e,[{key:"render",value:function(){var a=this.props.result,e=0,t=a.by_party.filter((function(a){var t=M(a.vote_percentage);return t>=.05&&(e+=t,!0)})).sort((function(a,e){return e.vote_count-a.vote_count})).concat([{party_code:"Other",vote_percentage:T(1-e,1)}]),r=165,o=0,c=t.map((function(a,e){var t=a.party_code,c=a.vote_percentage,l=M(c),i=o,s=ra(o+=360*l),u=ra(i),p=165+r*Math.sin(u),y=165-r*Math.cos(u),m=165+r*Math.sin(s),d=165-r*Math.cos(s),h=(u+s)/2,_=.5;l<.1&&(_=.75);var f=165+r*Math.sin(h)*_,b=165-r*Math.cos(h)*_,v=Math.abs(s-u)>Math.PI?1:0,E=s>0?1:0,P=["M ".concat(165,", ").concat(165),"L ".concat(p,", ").concat(y),"A ".concat(r,", ").concat(r),"".concat(0,", ").concat(v,", ").concat(E,", ").concat(m,", ").concat(d),"Z"].join(" "),g=Y(t,!0,"50.00%"),S="",k="";l>=.05&&(S=t,k=c);var w=48*Math.sqrt(l);return n.a.createElement("svg",{key:t},n.a.createElement("path",{d:P,fill:g,stroke:"gray",strokeWidth:.5}),n.a.createElement("text",{x:f,y:b-w/2,fontSize:.6*w,textAnchor:"middle"},S),n.a.createElement("text",{x:f,y:b+w/2,fontSize:w,fontWeight:"bold",textAnchor:"middle"},k))}));return n.a.createElement("svg",{height:330,width:330},c)}}]),e}(r.Component),oa=function(a){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,a),Object(i.a)(e,[{key:"render",value:function(){var a=this.props.edCode,e=B(this.props.candidateResultList[0].by_candidate,(function(a){return a.party_code}),(function(a){return a.map((function(a){return a.candidate_name}))})),t=Object.keys(e).map((function(a,t){var r=e[a];return n.a.createElement("div",{key:a},n.a.createElement("h4",null,q(a)),n.a.createElement("ol",null,r.map((function(a,e){return n.a.createElement("li",{key:e},a)}))))}));return n.a.createElement("div",{key:a},n.a.createElement("h4",null,"Elected Candidates"),t)}}]),e}(r.Component),ca=function(a){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,a),Object(i.a)(e,[{key:"render",value:function(){var a=this.props.result,e=this.props.partyList,t=this.props.regionCodeField,r=a.summary,o=a[t],c=U(a),l=B(a.by_party,(function(a){return a.party_code}),(function(a){return a[0]})),i=a.type===f.RE_S||a.type===f.RN_SI;return n.a.createElement("tr",{id:o,key:"DetailedResults-"+o,className:o?"":"tr-total"},n.a.createElement("td",{key:"region-name",className:"td-region"},i?o?$(o):"Islandwide":o?$(o):"Districtwide"),e.map((function(a,e){var t=l[a],r=a+"-"+e;if(!t)return[n.a.createElement("td",{key:r+"-votes",className:"td-number"},z()),i?n.a.createElement("td",{key:r+"-seats",className:"td-seats"},z()):null];var o=t.vote_count,s=t.vote_percentage,u=t.seat_count,p={backgroundColor:Y(a,c===a,s)};return[n.a.createElement("td",{key:r+"-votes",style:p},Q(o,s)),i?n.a.createElement("td",{key:r+"-seats",className:"td-seats",style:p},u):null]})),r?[["electors",null],["polled","percent_polled"],["valid","percent_valid"],["rejected","percent_rejected"]].map((function(a,e){var t=Object(aa.a)(a,2),o=t[0],c=t[1];return n.a.createElement("td",{key:o,className:"td-number"},Q(r[o],r[c]))})):null)}}]),e}(r.Component),la=function(a){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,a),Object(i.a)(e,[{key:"render",value:function(){var a=this.props.partyList,e=this.props.showSummary,t=this.props.showSeats,r=this.props.firstRowHeader;return[n.a.createElement("tr",{key:"header-row-1"},n.a.createElement("th",{rowSpan:2},r),a.map((function(a,e){return n.a.createElement("td",{key:a,className:"td-header",colSpan:t?2:1},q(a))})),e?["Electors","Polled (Turnout)","Valid","Rejected"].map((function(a,e){return n.a.createElement("th",{key:a,className:"td-header",rowSpan:2},a)})):null),n.a.createElement("tr",{key:"header-row-2"},a.map((function(a,e){var r=a;return[n.a.createElement("th",{key:r+"-votes"},"Votes"),t?n.a.createElement("th",{key:r+"-seats"},"Seats"):null]})))]}}]),e}(r.Component),ia=function(a){function e(a){var t;return Object(l.a)(this,e),(t=Object(s.a)(this,Object(u.a)(e).call(this,a)))._isMounted=!1,t.state={regionList:void 0},t}return Object(p.a)(e,a),Object(i.a)(e,[{key:"componentDidMount",value:function(){var a=Object(h.a)(d.a.mark((function a(){var e,t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return this._isMounted=!0,e=X(this.props.edDRList),a.next=4,L(e);case 4:t=a.sent,this._isMounted&&this.setState({regionList:t});case 6:case"end":return a.stop()}}),a,this)})));return function(){return a.apply(this,arguments)}}()},{key:"commponentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var a=this.state.regionList;if(!a)return Z();var e=R(this.props.edDRList,"pd_code"),t=this.props.edLatestRS,r=this.props.candidateResultList,o=X(e),c=G(t),l=n.a.createElement(la,{partyList:c,showSummary:!0,showSeats:!1,firstRowHeader:"Polling Division"}),i=e.map((function(a,e){return n.a.createElement(ca,{key:e,result:a,regionCodeField:"pd_code",partyList:c})})),s=n.a.createElement(ca,{key:"summary",result:t,regionCodeField:"pd_code",partyList:c}),u=n.a.createElement("table",null,n.a.createElement("thead",null,l),n.a.createElement("tbody",null,i),n.a.createElement("tfoot",null,s));return n.a.createElement("div",{id:o+"-details"},n.a.createElement("h2",null,$(o)),n.a.createElement(ta,{parentRegionCode:o,childRegionCodeType:"pd_code",regionList:a,resultList:e}),n.a.createElement(na,{result:t}),u,r?n.a.createElement(oa,{edCode:o,candidateResultList:r}):null)}}]),e}(r.Component),sa=function(a){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,a),Object(i.a)(e,[{key:"render",value:function(){var a=this.props.detailedResultList,e=this.props.edResultSummaryList,t=this.props.candidateResultList,r=t?t.reduce((function(a,e){var t=e.ed_code;return a[t]||(a[t]=[]),a[t].push(e),a}),{}):{},o=a.reduce((function(a,e){var t=e.ed_code;return a[t]||(a[t]=[]),a[t].push(e),a}),{}),c=e.reduce((function(a,e){return a[e.ed_code]=e,a}),{});return n.a.createElement("div",null,n.a.createElement("h2",null,"Results by Polling Division"),Object.keys(o).sort().map((function(a,e){return n.a.createElement(ia,{key:"TableDetailedResultsForED-"+e,edCode:a,edDRList:o[a],edLatestRS:c[a],candidateResultList:r[a]})})))}}]),e}(r.Component),ua=function(a){function e(a){var t;return Object(l.a)(this,e),(t=Object(s.a)(this,Object(u.a)(e).call(this,a))).state={regionList:void 0},t}return Object(p.a)(e,a),Object(i.a)(e,[{key:"componentDidMount",value:function(){var a=Object(h.a)(d.a.mark((function a(){var e;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D();case 2:e=a.sent,this.setState({regionList:e});case 4:case"end":return a.stop()}}),a,this)})));return function(){return a.apply(this,arguments)}}()},{key:"render",value:function(){var a=this.state.regionList;if(!a)return Z();var e=this.props.edVoteSummary,t=this.props.edSeatSummary,r=this.props.lkSeatSummaryIncrLast;if(!r)return null;var o=e.reduce((function(a,e,t){return e.by_party.reduce((function(a,e,t){var r=e.party_code,n=e.vote_count;return isNaN(n)&&(n=0),void 0===a[r]&&(a[r]=0),a[r]+=n,a}),a)}),{}),c=Object.values(o).reduce((function(a,e,t){return a+e}),0);r.by_party=r.by_party.map((function(a,e){var t=a.party_code,r=o[t];return a.vote_count=r,a.vote_percentage=T(r,c),a}));var l=G(r),i=e.reduce((function(a,e,t){return a[e.ed_code]=e,a}),{}),s=n.a.createElement(la,{partyList:l,showSummary:!1,showSeats:!0,firstRowHeader:"Electoral District"}),u=R(t,"ed_code").map((function(a,e){var t=i[a.ed_code].by_party.reduce((function(a,e,t){return a[e.party_code]=e,a}),{});return a.by_party=a.by_party.map((function(a,e){var r=a.party_code;return a.vote_count=t[r].vote_count,a.vote_percentage=t[r].vote_percentage,a})),n.a.createElement(ca,{key:e,result:a,partyList:l,regionCodeField:"ed_code"})})),p=n.a.createElement(ca,{result:r,partyList:l,regionCodeField:null}),y=n.a.createElement("table",null,n.a.createElement("thead",null,s),n.a.createElement("tbody",null,u),n.a.createElement("tfoot",null,p));return n.a.createElement("div",null,n.a.createElement("h1",null,"Summary Results by Electoral District"),n.a.createElement(ta,{parentRegionCode:"LK",childRegionCodeType:"ed_code",regionList:a,resultList:e}),y,n.a.createElement("p",null,"* Complete Electoral Districts Only"))}}]),e}(r.Component),pa=function(a){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,a),Object(i.a)(e,[{key:"render",value:function(){var a=this.props.result,e=0,t=0,r=0,o=a.by_party.map((function(a,o){var c=a.party_code,l=Y(c,!0,"100.00%"),i=a.seat_count+a.national_list_seat_count;return 0===i?[]:Array.from(Array(i).keys()).map((function(a){var o=n.a.createElement("circle",{key:c+a,cx:e+6,cy:t+24,r:.8*12*.4,fill:l,stroke:"gray"});return(t+=12)>=120&&(e+=12,t=0),113===(r+=1)&&(e+=18),150===r&&(e+=6),r%50===0&&(e+=12*.2),r%10===5&&(t+=6),o}))}));return n.a.createElement("svg",{width:318,height:156,key:"ChartSeats"},o,n.a.createElement("line",{x1:151.2,x2:151.2,y1:18,y2:156,stroke:"gray",strokeDasharray:"2,2"}),n.a.createElement("text",{x:151.2,y:12*1.2,fill:"gray",textAnchor:"middle",fontSize:12*.6},"Majority"),n.a.createElement("line",{x1:12*17.3,x2:12*17.3,y1:18,y2:156,stroke:"black",strokeDasharray:"2,2"}),n.a.createElement("text",{x:12*17.3,y:12*1.2,fill:"black",textAnchor:"middle",fontSize:12*.6},"Two-Thirds"))}}]),e}(r.Component),ya=function(a){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,a),Object(i.a)(e,[{key:"render",value:function(){var a=this.props.finalSeats;if(!a)return null;var e=G(a),t=a.by_party.reduce((function(a,e){var t=e.party_code;return a["Electoral District Seats"][t]=e.seat_count,a["National List Seats"][t]=e.national_list_seat_count,a["Total Seats"][t]=e.seat_count+e.national_list_seat_count,a}),{"Electoral District Seats":{},"National List Seats":{},"Total Seats":{}}),r=n.a.createElement("tr",null,n.a.createElement("th",null),e.map((function(a){return n.a.createElement("td",{key:a,className:"td-header"},q(a))}))),o=Object.keys(t).map((function(a,r){var o="Total Seats"===a?"tr-total":"";return n.a.createElement("tr",{key:a,className:o},n.a.createElement("td",null,a),e.map((function(e){var r=t[a][e],o=0===r?"div-percent-zero":"",c={};return"Total Seats"===a&&(c={backgroundColor:Y(e,!0,"50.0%")}),n.a.createElement("td",{key:e,className:"td-seats "+o,style:c},r)})))})),c=n.a.createElement("table",null,n.a.createElement("thead",null,r),n.a.createElement("tbody",null,o));return n.a.createElement("div",null,n.a.createElement("h1",null,"Final Islandwide Results"),n.a.createElement(pa,{result:a}),c)}}]),e}(r.Component),ma={year:"numeric",month:"long",day:"numeric"};var da=function(a){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,a),Object(i.a)(e,[{key:"render",value:function(){var a=this.props.detailedResultList.reverse().slice(0,5);return n.a.createElement("div",null,n.a.createElement("h1",null,"Latest Results"),n.a.createElement("p",null,"Click for details."),n.a.createElement("div",null,a.map((function(a,e){var t=a.pd_code,r=a.pd_name,o=a.ed_name,c=a.timestamp,l="#"+t,i=a.by_party[0].party_code,s=a.by_party[0].vote_percentage,u=function(a){return n.a.createElement("div",{className:"div-latest-results-item-description"},a.by_party.map((function(a,e){var t=a.party_code,r=a.vote_percentage,o="";parseFloat(r.substring(0,r.length-1))/100>=.05&&(o="".concat(t," ").concat(r,". "));var c=0!==e?{color:"#808080"}:{};return n.a.createElement("span",{key:e,style:c},o)}),""))}(a),p={backgroundColor:Y(i,!0,s)};return n.a.createElement("div",{key:"LatestResults-".concat(t),className:"div-latest-results-item",style:p},n.a.createElement("div",{className:"div-latest-results-item-time"},function a(e){var t=new Date(1e3*e).toLocaleTimeString("en-LK",ma);return"Invalid Date"!==t?t:a(Date.parse(e)/1e3)}(c)),n.a.createElement("div",{className:"div-latest-results-item-body"},n.a.createElement("a",{href:l},"".concat(r," (").concat(o," Electoral District)"))),u)}))))}}]),e}(r.Component),ha=function(a){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,a),Object(i.a)(e,[{key:"render",value:function(){return _.map(function(a){var e=function(){this.props.onChangeYear(a)}.bind(this),t=this.props.selectedYear===a?" a-select-year-selected":"";return n.a.createElement("a",{key:"Year-".concat(a),href:"#App",onClick:e,className:"a-select-year"+t},a)}.bind(this))}}]),e}(r.Component),_a=t(14),fa=t.n(_a),ba=_.slice(-1)[0],va=function(a){function e(a){var t;return Object(l.a)(this,e),(t=Object(s.a)(this,Object(u.a)(e).call(this,a))).state={resultGroups:null,year:ba},t}return Object(p.a)(e,a),Object(i.a)(e,[{key:"componentDidMount",value:function(){var a=Object(h.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.updateYear(this.state.year);case 2:case"end":return a.stop()}}),a,this)})));return function(){return a.apply(this,arguments)}}()},{key:"updateYear",value:function(){var a=Object(h.a)(d.a.mark((function a(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return this.setState({resultGroups:null}),a.next=3,O(e);case 3:t=a.sent,this.setState({resultGroups:t,year:e});case 5:case"end":return a.stop()}}),a,this)})));return function(e){return a.apply(this,arguments)}}()},{key:"render",value:function(){var a=this.state.resultGroups;if(!a)return Z();var e=this.state.year,t=a[f.RP_V],r=a[f.RE_VI],o=a[f.RE_S],c=a[f.RE_V],l=a[f.RN_SI],i=l?l.slice(-1)[0]:null,s=a[f.RE_SC],u=a[f.RN_VSN],p=u?u[0]:null,y=function(){var a=Object(h.a)(d.a.mark((function a(e){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.updateYear(e);case 2:case"end":return a.stop()}}),a,this)})));return function(e){return a.apply(this,arguments)}}().bind(this),m=function(){var a=Object(h.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F(e);case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return n.a.createElement("div",{id:"HomePage",key:"HomePage"},n.a.createElement("div",{id:"home-page-header"},n.a.createElement("aside",{className:"header-img",style:{marginTop:10,marginBottom:10}},n.a.createElement("img",{src:fa.a,alt:""})),n.a.createElement(ha,{onChangeYear:y,selectedYear:e}),n.a.createElement("h1",null,"".concat(e," Sri Lankan Parliamentary Elections")),n.a.createElement("p",{className:"p-download",onClick:m},"Download Results as JSON")),n.a.createElement("div",{id:"home-page-body"},n.a.createElement(da,{detailedResultList:t}),n.a.createElement(ya,{finalSeats:p}),n.a.createElement(ua,{edVoteSummary:c,edSeatSummary:o,lkSeatSummaryIncrLast:i}),n.a.createElement(sa,{detailedResultList:t,edResultSummaryList:r,candidateResultList:s})))}}]),e}(r.Component),Ea=function(a){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,a),Object(i.a)(e,[{key:"componentDidMount",value:function(){y.a.initialize("UA-152857980-2"),y.a.pageview(window.location.pathname+window.location.search)}},{key:"render",value:function(){return n.a.createElement("div",{className:"App",key:"App"},n.a.createElement(va,null))}}]),e}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Ea,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.baa53961.chunk.js.map